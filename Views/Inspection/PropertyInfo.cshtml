@model PropertyInfo
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@{
    var user = await UserManager.GetUserAsync(User);
    var now = DateTime.Now;
}
<div class="text-center">
    <h1 class="display-4">Property Information</h1>
    <p>The general information required for all properties.</p>
</div>

@if (ViewBag.Message != null)
{
    <div class="p-1 mb-2 text-green">@ViewBag.Message</div>
}

<container style="display:flex">
    <row class="col-3"></row>
    <row class="col-6">
        @using (Html.BeginForm("SavePropertyInfo", "PropertyInfo", FormMethod.Post))
        {

            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="ClientFName">Client First Name</label>
                <input id="ClientFName" asp-for="ClientFName" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="ClientLName">Client Last Name</label>
                <input id="ClientLName" asp-for="ClientLName" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="InspectionType">Inspection Type</label>
                <input id="InspectionType" asp-for="InspectionType" class="form-control" value="Pre-Purchase Inspection" readonly />
            </div>
            <div class="form-group">
                <label asp-for="PropertyAddress">Property Address</label>
                <input id="PropertyAddress" asp-for="PropertyAddress" class="form-control" />
            </div>

            <div class="form-group">
                <label asp-for="InspectionDate">Inspection Date</label>
                <input id="InspectionDate" asp-for="InspectionDate" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="InspectionTime">Inspection Time</label>
                <input id="InspectionTime" asp-for="InspectionTime" class="form-control" />
            </div>
            <div class="form-group ">
                <input id="WhenAdded" asp-for="WhenAdded" value="@now" class="form-control" hidden />
                <input id="AddedBy" asp-for="AddedBy" value="@user.Email" class="form-control" hidden />
            </div>
            <button type="submit" value="submit" class="btn btn-primary">Next</button>

        }
    </row>
    @*<table id="tblPropertyInfo">
            <thead>
                <tr>
                    <th>PropertyID</th>
                    <th>Client FirstName</th>
                    <th>Client LastName</th>
                    <th>Inspection Type</th>
                    <th>Property Address</th>
                    <th>Inspection Date</th>
                    <th>Inspection Time</th>
                    <th>WhenAdded</th>
                    <th>AddedBy</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>*@

    <row class="col-3"></row>

    @*<partial name="_ListPropertyInfoPartial.cshtml" />*@
</container>

